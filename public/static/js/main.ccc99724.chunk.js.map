{"version":3,"sources":["serviceWorker.js","components/Index/index.js","components/Menu/index.js","components/Detail/index.js","components/Recording/index.js","components/EditPage/index.js","index.js"],"names":["Boolean","window","location","hostname","match","Index","className","style","color","textDecoration","to","useState","menuData","setMenuData","useEffect","getMenuData","axios","method","url","data","pageNo","pageSize","headers","timeout","then","res","status","list","map","item","title","id","message","error","msg","console","log","orientation","bordered","dataSource","renderItem","Item","Meta","detailData","setDetailData","queryName","vars","decodeURI","search","substring","split","i","length","pair","GetQueryValue","getTableData","menu","find","content","textAlign","marginTop","src","acc","autoplay","controls","type","Recording","recorderTool","useRef","drawRecorderId","drawPlayId","ctx","pCtx","oCanvas","pCanvas","recordingInfo","setRecordingInfo","recordingStatus","setRecordingStatus","sendMessage","setSendMessage","userName","setUserName","mail","setMail","userNameTest","setUserNameTest","mailTest","setMailTest","init","current","document","getElementById","getContext","recorder","Recorder","sampleBits","sampleRate","numChannels","onprogress","params","drawPlay","duration","requestAnimationFrame","dataArray","getPlayAnalyseData","bufferLength","fillStyle","fillRect","width","height","lineWidth","strokeStyle","beginPath","sliceWidth","x","y","moveTo","lineTo","stroke","sendClick","blob","getWAVBlob","files","File","Math","floor","random","formdata","FormData","append","success","warning","onClick","start","drawRecord","getRecordAnalyseData","name","pause","resume","stop","cancelAnimationFrame","destroy","padding","verticalAlign","display","fontSize","toFixed","vol","play","pausePlay","resumePlay","stopPlay","marginRight","onChange","e","target","value","tableData","setTableData","editVisible","setEditVisible","modalContent","setModalContent","fileList","setFileList","props","onRemove","file","index","indexOf","newFileList","slice","splice","beforeUpload","updateModalContent","key","columns","dataIndex","render","text","record","updateContent","span","rowKey","visible","onOk","onCancel","autoSize","minRows","maxRows","icon","UploadOutlined","Hello","exact","path","component","Menu","Detail","EditPage","Component","ReactDOM","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.ccc99724.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n// import { Button } from 'antd';\n\nimport './index.css';\n\n\nfunction Index () {\n  return (\n    <div className=\"App\">\n      <div className=\"title\"> 欢声习语</div>\n        <button className='start'>\n          <Link style={{color:'red',textDecoration:'none'}} to=\"/menu\">开始</Link>\n        </button>\n    </div>\n  );\n}\n\nexport default Index;\n","import React,{useEffect,useState,message} from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { List, Divider } from 'antd';\n\nimport './index.css';\n\nfunction Index () {\n  const [menuData, setMenuData] = useState([]);\n\n  useEffect(() => {\n    getMenuData();\n  }, []);\n\n  const getMenuData =() =>{\n    axios({\n      method: 'get',\n      url: '/api/content/queryContentPage',\n      data: {\n        pageNo:1,\n        pageSize:1000,\n      },\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      timeout: 10000,\n    }).then((res) => {\n      if (res && res.data.status === 200) {\n        const data  = res.data.data.list;\n        setMenuData(data.map((item) => {\n          const {title,id} = item;\n          return {\n            title,\n            id,\n          };\n        }));\n      } else {\n        message.error(res && res.data.msg);\n      }\n    });\n  }\n\n  console.log('menuData :>> ', menuData);\n  return (\n    <div>\n      {/* <div className=\"list\"> */}\n      <div>\n    {/* {\n      menuData.map((menu,index) => {\n        return (\n          <Link key={index} style={{textDecoration:'none'}} to={`/detail?id=${menu.id}`}>\n            <h3 style={{color:'#ff0'}} key={index}>{menu.title}</h3>\n          </Link>\n        )\n      })\n    } */}\n\n<Divider orientation=\"left\">习语列表</Divider>\n    <List\n      bordered\n      dataSource={menuData}\n      renderItem={item => (\n        <List.Item>\n              <List.Item.Meta\n          // avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\n          title={\n            <Link style={{textDecoration:'none'}} to={`/detail?id=${item.id}`}>\n            {item.title}\n          </Link>\n        }\n          // description=\"Ant Design, a design language for background applications, is refined by Ant UED Team\"\n        />\n          \n        </List.Item>\n      )}\n    />\n\n      </div>\n        \n    </div>\n  );\n}\n\nexport default Index;\n","import React,{useEffect,useState} from 'react';\nimport { Link } from 'react-router-dom';\nimport { message,Button } from 'antd';\nimport axios from 'axios';\nimport './index.css';\n\n\nfunction Index() {\n  const [detailData, setDetailData] = useState({});\n\n  const GetQueryValue = (queryName) => {\n    let query = decodeURI(window.location.search.substring(1));\n    let vars = query.split(\"&\");\n    for (let i = 0; i < vars.length; i++) {\n      let pair = vars[i].split(\"=\");\n      if (pair[0] === queryName) { return pair[1]; }\n    }\n    return null;\n  }\n\n  useEffect(() => {\n    const id= GetQueryValue('id');\n    getTableData(id);\n\n  }, []);\n\n  const getTableData = (id) => {\n    axios({\n      method: 'get',\n      url: '/api/content/queryContentPage',\n      data: {\n        pageNo: 1,\n        pageSize: 100,\n      },\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      timeout: 10000,\n    }).then((res) => {\n      if (res && res.data.status === 200) {\n        const menu = res.data.data.list;\n        setDetailData(menu.find(item => item.id === id * 1));\n      } else {\n        message.error(res && res.data.msg);\n      }\n    });\n  }\nconsole.log('detailData :>> ', detailData);\n  return (\n    // <div className=\"App\">\n    <div>\n      <div className='detail' >\n        <p className='text'>{detailData.content}</p>\n        {/* <button className='detail_button'><Link style={{ textDecoration: 'none', color: 'red' }} to={`/recording`}>我有体会，要录音</Link></button> &nbsp;&nbsp;&nbsp;&nbsp;\n        <button className='detail_button'><Link style={{ textDecoration: 'none', color: 'red' }} to=\"menu\" >意未尽，继续听</Link></button> */}\n      <div style={{textAlign:'center',marginTop:'10px'}}>\n      <audio className='audio' src={`/api/file/getContentFile?fileName=${detailData.acc}`} autoplay=\"autoplay\" controls=\"controls\" ></audio>\n      </div>\n      <div style={{textAlign:'center',marginTop:'10px'}}>\n      <Button type={\"primary\"}><Link to={`/recording`}>我有体会，要录音</Link></Button> &nbsp;&nbsp;&nbsp;&nbsp;\n        <Button type={\"primary\"} ><Link to=\"menu\" >意未尽，继续听</Link></Button>\n      </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Index;\n","import React, { useRef, useEffect, useState } from 'react';\nimport Recorder from 'js-audio-recorder';\nimport { Input, message } from 'antd';\nimport { Link } from 'react-router-dom';\n\nimport axios from 'axios';\nimport './index.css';\n\nfunction Recording () {\n  const recorderTool = useRef(null);\n  const drawRecorderId = useRef(null);\n  const drawPlayId = useRef(null);\n\n  const ctx = useRef(null);\n  const pCtx = useRef(null);\n  const oCanvas = useRef(null);\n  const pCanvas = useRef(null);\n\n  const [recordingInfo,setRecordingInfo] = useState({});\n  const [recordingStatus, setRecordingStatus] = useState('');\n  const [sendMessage, setSendMessage] = useState(false);\n  const [userName, setUserName] = useState('');\n  const [mail, setMail] = useState('');\n  const [userNameTest, setUserNameTest] = useState(false);\n  const [mailTest, setMailTest] = useState(false);\n\n  useEffect(() => {\n    init();\n    oCanvas.current = document.getElementById('canvasRecording');\n    ctx.current = oCanvas.current.getContext(\"2d\");\n\n    //播放波浪\n    pCanvas.current = document.getElementById('canvasPlay');\n    pCtx.current = pCanvas.current.getContext(\"2d\");\n\n  },[]);\n\n  const init =() =>{\n    let recorder = new Recorder({\n      sampleBits: 16,                 // 采样位数，支持 8 或 16，默认是16\n      sampleRate: 48000,              // 采样率，支持 11025、16000、22050、24000、44100、48000，根据浏览器默认值，我的chrome是48000\n      numChannels: 1,                 // 声道，支持 1 或 2， 默认是1\n      // compiling: false,(0.x版本中生效,1.x增加中)  // 是否边录边转换，默认是false\n    });\n    recorderTool.current = recorder;\n    recorder.onprogress = (params) =>{\n      setRecordingInfo(params);\n    };\n\n  }\n\n  const drawRecord = () => {\n    // 用requestAnimationFrame稳定60fps绘制\n    drawRecorderId.current = requestAnimationFrame(drawRecord);\n    // 实时获取音频大小数据\n    let dataArray = recorderTool.current.getRecordAnalyseData(),\n        bufferLength = dataArray.length;\n\n    // 填充背景色\n    ctx.current.fillStyle = 'rgb(200, 200, 0)';\n    ctx.current.fillRect(0, 0, oCanvas.current.width, oCanvas.current.height);\n\n    // 设定波形绘制颜色\n    ctx.current.lineWidth = 3;\n    ctx.current.strokeStyle = 'rgb(255, 0, 0)';\n    ctx.current.beginPath();\n\n    let sliceWidth = oCanvas.current.width * 1.0 / bufferLength, // 一个点占多少位置，共有bufferLength个点要绘制\n            x = 0;          // 绘制点的x轴位置\n    for (let i = 0; i < bufferLength; i++) {\n      let v = dataArray[i] / 128.0;\n      let y = v * oCanvas.current.height / 2;\n      if (i === 0) {\n        // 第一个点\n        ctx.current.moveTo(x, y);\n      } else {\n        // 剩余的点\n        ctx.current.lineTo(x, y);\n      }\n      // 依次平移，绘制所有点\n      x += sliceWidth;\n    }\n\n    ctx.current.lineTo(oCanvas.current.width, oCanvas.current.height / 2);\n    ctx.current.stroke();\n  }\n\n  const drawPlay = () => {\n    // 用requestAnimationFrame稳定60fps绘制\n    if(!recordingInfo.duration) {\n      return;\n    }\n    drawPlayId.current = requestAnimationFrame(drawPlay);\n    // 实时获取音频大小数据\n    let dataArray = recorderTool.current.getPlayAnalyseData(),\n        bufferLength = dataArray.length;\n\n    // 填充背景色\n    pCtx.current.fillStyle = 'rgb(200, 200, 0)';\n    pCtx.current.fillRect(0, 0, pCanvas.current.width, pCanvas.current.height);\n\n    // 设定波形绘制颜色\n    pCtx.current.lineWidth = 3;\n    pCtx.current.strokeStyle = 'rgb(255, 0, 0)';\n    pCtx.current.beginPath();\n\n    let sliceWidth = pCanvas.current.width * 1.0 / bufferLength, // 一个点占多少位置，共有bufferLength个点要绘制\n            x = 0;          // 绘制点的x轴位置\n    for (let i = 0; i < bufferLength; i++) {\n      let v = dataArray[i] / 128.0;\n      let y = v * pCanvas.current.height / 2;\n      if (i === 0) {\n        // 第一个点\n        pCtx.current.moveTo(x, y);\n      } else {\n        // 剩余的点\n        pCtx.current.lineTo(x, y);\n      }\n      // 依次平移，绘制所有点\n      x += sliceWidth;\n    }\n\n    pCtx.current.lineTo(pCanvas.current.width, pCanvas.current.height / 2);\n    pCtx.current.stroke();\n  }\n\n  // 开始录音\n  const recorderStart = () => {\n    if(!recorderTool.current) {\n      init();\n    }\n    recorderTool.current.start().then(() => {\n      setRecordingStatus('record');\n      drawRecord();\n    },(error)=>{\n      console.log(`${error.name} : ${error.message}`)\n    })\n  }\n\n  // 结束录音\n  const recorderStop = () => {\n    if(recorderTool.current) {\n      recorderTool.current.stop();\n    drawRecorderId.current && cancelAnimationFrame(drawRecorderId.current);\n    drawRecorderId.current = null;\n    // setRecordingStatus('end');\n    }\n  }\n\n  // 录音暂停\n  const recorderPause = () => {\n    if(recorderTool.current) {\n    recorderTool.current.pause();\n    }\n  }\n  \n  // 录音继续\n  const recorderResume = () => {\n    if(recorderTool.current) {\n    recorderTool.current.resume();\n    }\n  }\n\n  // 录音播放\n  const recorderPlay = () => {\n    if(recorderTool.current) {\n    recorderTool.current.play();\n    setRecordingStatus('play');\n      drawPlay();//绘制波浪图\n    }\n  }\n  \n  // 暂停录音播放\n  const recorderPausePlay = () => {\n    if(recorderTool.current) {\n    recorderTool.current.pausePlay()\n    }\n  }\n\n  // 恢复录音播放\n  const recorderResumePlay = () => {\n    if(recorderTool.current) {\n    recorderTool.current.resumePlay();\n    drawPlay();//绘制波浪图\n    }\n  }\n\n  // 停止录音播放\n  const stopPlayRecorder = () => {\n    if(recorderTool.current) {\n    recorderTool.current.stopPlay();\n    }\n  }\n\n  const destroyRecorder = () => {\n    if(recorderTool.current){\n      recorderTool.current.destroy().then(()=> {\n        recorderTool.current = null;\n        drawRecorderId.current && cancelAnimationFrame(drawRecorderId.current);\n        drawPlayId.current && cancelAnimationFrame(drawPlayId.current);\n        setRecordingInfo({});\n        drawRecorderId.current = null;\n        drawPlayId.current = null;\n      });\n    }\n  }\n\n  const getRandom =() => {\n    let num = Math.floor(Math.random() * 10000000);\n    return num;\n  }\n\n  const sendClick = () => {\n      // if(!userName) {\n      //   setUserNameTest(true);\n      //   return;\n      // }\n      // const mailTest = /^[0-9a-zA-Z_.-]+[@][0-9a-zA-Z_.-]+([.][a-zA-Z]+){1,2}$/;\n      // ;                \n      // if(!mailTest.test(mail) ) {\n      //   setMailTest(true);\n      //   return;\n      // }\n      let blob = recorderTool.current.getWAVBlob();\n\n      // const blob = new Blob() // blob 对象\n      let files = new window.File(\n            [blob],\n            getRandom(),\n            { type: blob.type }\n          );\n\n      const formdata = new FormData();\n      formdata.append('file',files);\n      formdata.append('userName',userName);\n      formdata.append('mail',mail);\n      axios({\n        method: 'post',\n        url: '/api/uploadTape/sendMail',\n        data: formdata,\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        timeout: 100000,\n        // ...//其他相关配置\n      }).then((res) => {\n        if(res && res.data.status === 200){\n          setSendMessage(false);\n          message.success('发送成功');\n        }else{\n          message.warning(res.data.msg);\n        };\n      });\n      \n    \n  }\n\n  return (\n    <div className=\"App\">\n    <div style={{marginTop:'130px',textAlign:\"center\"}}>\n    <button className=\"recording_button\" onClick ={recorderStart}>开始录音</button>\n    <button className=\"recording_button\" onClick ={recorderPause}>暂停</button>\n    <button className=\"recording_button\" onClick ={recorderResume}>继续</button> \n    <button className=\"recording_button\" onClick ={recorderStop}>结束录音</button> \n    <button className=\"recording_button\" onClick ={destroyRecorder}> 放弃重录</button> \n\n    <button className='recording_button'>\n          <Link style={{color:'red',textDecoration:'none'}} to=\"/menu\">继续聆听</Link>\n        </button>\n    </div>\n    <div style={{padding:'20px 10px'}} >\n        <div style={{width:'25%',height:'150px', verticalAlign:'middle', display:'inline-block',color:'#ff0',textAlign:'center'}}>\n          <h1 style={{color:'#ff0',fontSize:\"40px\"}}>{(recordingInfo.duration && recordingInfo.duration.toFixed(3)) || 0}</h1>\n          <h5 style={{color:'#ff0',fontSize:\"16px\"}}>录音时长（秒）</h5>\n        </div>\n        <div style={{width:'25%',display:'inline-block',height:'150px', verticalAlign:'middle',color:'#ff0',textAlign:'center'}}>\n          <h1 style={{color:'#ff0',fontSize:\"40px\"}}>{(recordingInfo.vol && recordingInfo.vol && recordingInfo.vol.toFixed(2)) || 0 }</h1>\n          <h5 style={{color:'#ff0',fontSize:\"16px\"}}>当前录音音量百分比(%)）</h5>\n        </div>\n        <div style={{width:'25%',display:'inline-block',height:'150px', verticalAlign:'middle',color:'#ff0',textAlign:'center'}}>\n        <canvas style={{display : recordingStatus === 'record' ? 'block': \"none\"}} width=\"300\" height=\"150\" id=\"canvasRecording\"></canvas>\n        <canvas style={{display : recordingStatus === 'play' ? 'block': \"none\"}} width=\"300\" height=\"150\" id=\"canvasPlay\"></canvas> \n        </div>\n        \n    </div>\n    <div style={{marginTop:'10px',textAlign:\"center\"}}>\n    <button className=\"recording_button\" onClick ={recorderPlay}>播放</button>\n    <button className=\"recording_button\" onClick ={recorderPausePlay}>暂停</button>\n    <button className=\"recording_button\" onClick ={recorderResumePlay}>继续</button> \n    <button className=\"recording_button\" onClick ={stopPlayRecorder}> 结束</button> \n    <button className=\"recording_button\" onClick ={()=> setSendMessage(true)}> 发送邮件</button> \n\n    </div>\n\n    {sendMessage ? <div style={{marginTop:'20px',textAlign:\"center\"}}>\n      <div>\n      <div style={{ display:'inline-block',width:'80px',textAlign:'right',marginRight:'10px',color:'#ff0'}}>姓名:</div>\n      <div style={{ display:'inline-block',width:'180px',height:'25px'}}> \n      <Input style={{width:'100%',height:'100%'}} onChange={(e)=> { setUserName(e.target.value);setUserNameTest(false)}} /> \n      </div>\n      </div>\n      { userNameTest ? <div style={{ width:'100%',marginTop:'10px',textAlign:'center',color:'#ff0'}}> \n        姓名不能为空\n      </div> : null}\n      <div style={{marginTop: !userNameTest ? '32px' : 0 }}>\n      <div style={{ display:'inline-block',width:'80px',textAlign:'right',marginRight:'10px',color:'#ff0'}}>邮箱:</div>\n      <div style={{ display:'inline-block',width:'180px',height:'25px'}}> \n      <Input style={{width:'100%',height:'100%'}} onChange={(e)=> { setMail(e.target.value);setMailTest(false);}} /> \n      </div>\n      </div>\n      { mailTest ? <div style={{ width:'100%',marginTop:'10px',textAlign:'center',color:'#ff0'}}> \n        邮箱格式不正确\n      </div> : null}\n      <div style={{  marginTop: !mailTest ? '32px' : 0}}>\n        <button className='send' onClick={() => sendClick() }> 发送</button>\n      </div>\n    </div> : null }\n    </div>\n  );\n}\n\nexport default Recording;\n","import React, { useState, useEffect} from 'react';\nimport { Table, Row, Col, Button, Modal, Input, Upload, message } from 'antd';\nimport axios from 'axios';\nimport './index.css';\nimport TextArea from 'antd/lib/input/TextArea';\nimport { UploadOutlined } from '@ant-design/icons';\n\nfunction Index() {\n  const [tableData, setTableData] = useState([]);\n  const [editVisible, setEditVisible] = useState(false);\n  const [modalContent, setModalContent] = useState({});\n  const [fileList, setFileList] = useState([]);\n\n  useEffect(() => {\n    getTableData();\n\n  }, []);\n\n  const getTableData =() =>{\n    axios({\n      method: 'get',\n      url: '/api/content/queryContentPage',\n      data: {\n        pageNo:1,\n        pageSize:100,\n      },\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      timeout: 10000,\n    }).then((res) => {\n      if (res && res.data.status === 200) {\n        setTableData(res.data.data.list);\n      } else {\n        message.error(res && res.data.msg);\n      }\n    });\n  }\n\n  const deleteContent = (id) => {\n    axios({\n      method: 'get',\n      url: '/api/content/deleteContent',\n      params: {\n        id,\n      },\n      // ...//其他相关配置\n    }).then((res) => {\n      if (res && res.data.status === 200) {\n        message.success('删除成功');\n        getTableData();\n      }\n    });\n\n  }\n\n  const updateContent = (record) => {\n    const { title, content, id } = record;\n    console.log('content :>> ', content);\n    setEditVisible(true);\n    setModalContent({\n      title,\n      content,\n      id,\n    });\n  }\n\n  const addContent = (id) => {\n    setEditVisible(true);\n    setModalContent({});\n  }\n\n  const confirm = () => {\n    if (!modalContent.title && !modalContent.id) {\n      message.warning('请填写标题');\n      return;\n    }\n    if (!modalContent.content && !modalContent.id) {\n      message.warning('请填写文本内容');\n      return;\n    }\n\n    if (!fileList.length && !modalContent.id ) {\n      message.warning('选择文件');\n      return;\n    }\n    const formdata = new FormData();\n    formdata.append('title', modalContent.title);\n    formdata.append('content', modalContent.content);\n  if(fileList.length){\n    console.log('fileList11111',fileList);\n    formdata.append('file', fileList[0]);\n  }\n\n  if(modalContent.id){\n    formdata.append('id', modalContent.id);\n  }\n  let url = '/api/content/addContent';\n  if(modalContent.id){\n    url= '/api/content/updateContent';\n  }\n    axios({\n      method: 'post',\n      url,\n      data: formdata,\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      timeout: 10000,\n    }).then((res) => {\n      if (res && res.data.status === 200) {\n        if(modalContent.id){\n          message.success('修改成功');\n        }else{\n          message.success('添加成功');\n        }\n\n        setEditVisible(false);\n        setModalContent({});\n        setFileList([]);\n        getTableData();\n      } else {\n        message.error(res && res.data.msg);\n      }\n    });\n  }\n  const onCancel = () => {\n    setEditVisible(false);\n    setModalContent({});\n  }\n\n  const props = {\n    onRemove: file => {\n      setFileList(() => {\n        const index = fileList.indexOf(file);\n        const newFileList = fileList.slice();\n        newFileList.splice(index, 1);\n        console.log('newFileList :>> ', newFileList);\n        return newFileList;\n      });\n    },\n    beforeUpload: file => {\n      setFileList(() => [...fileList, file]);\n      return false;\n    },\n    fileList,\n  };\n\n  const updateModalContent = (key, value) => {\n    setModalContent({\n      ...modalContent,\n      [key]: value,\n    })\n  }\n\n  const columns = [\n    {\n      title: '标题',        //菜单内容\n      dataIndex: 'title',   //在数据中对应的属性\n      key: 'title',   //key\n      width:300,\n    },\n    {\n      title: '内容',\n      dataIndex: 'content',   //在数据中对应的属性\n      key: 'content',\n      width:600,\n      render:(text,record) => {\n\n      }\n    },\n    {\n      title: '操作',\n      dataIndex: 'id',   //在数据中对应的属性\n      key: 'id',   //key\n      render: (text, record) => (\n        <span>\n          <Button  type='primary' onClick={() => updateContent(record)}> 修改</Button> &nbsp;&nbsp;\n          <Button  type='primary' onClick={() => deleteContent(record.id)}> 删除</Button>\n        </span>\n      ),\n    },\n  ];\n\n\n  return (\n    <div style={{ padding: '20px 30px' }}>\n      <Row>\n        <Col span={1} >\n          <Button type='primary' onClick={() => addContent()} >新增</Button>\n        </Col>\n      </Row>\n      <br />\n      <Row>\n        <Col span={24} >\n          <Table rowKey='id' dataSource={tableData} columns={columns} />\n        </Col>\n      </Row>\n      <Modal\n        width={600}\n        title=\"编辑\"\n        visible={editVisible}\n        onOk={confirm}\n        onCancel={onCancel}\n      >\n        <div style={{ textAlign: \"center\" }}>\n          <div>\n            <div style={{ display: 'inline-block', width: '80px' }}>标题:</div>\n            <div style={{ display: 'inline-block', width: '420px', height: '25px' }}>\n              <Input style={{ width: '100%', height: '100%' }} value={modalContent.title} onChange={(e) => { updateModalContent('title', e.target.value) }} />\n            </div>\n          </div>\n\n          <div style={{ marginTop: '10px' }}>\n            <div style={{ display: 'inline-block', width: '80px' }}>内容:</div>\n            <div style={{ display: 'inline-block', width: '420px' }}>\n              <TextArea autoSize={{ minRows: 10, maxRows: 18 }}\n                style={{ width: '100%', height: '100%' }}\n                value={modalContent.content}\n                onChange={(e) => { updateModalContent('content', e.target.value) }} />\n            </div>\n          </div>\n\n          <div style={{ marginTop: '10px' }}>\n            <div style={{ display: 'inline-block', width: '80px' }}>文件:</div>\n            <div style={{ display: 'inline-block', width: '420px' }}>\n              <Upload {...props}>\n                <Button icon={<UploadOutlined />}>Click to Upload</Button>\n              </Upload>\n            </div>\n          </div>\n\n\n        </div>\n      </Modal>\n    </div>\n  );\n}\n\nexport default Index;\n","import React,{ Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router, Route } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\n\nimport './index.css';\nimport Index from './components/Index';\nimport Menu from './components/Menu';\nimport Detail from './components/Detail';\nimport Recording from './components/Recording';\nimport EditPage from './components/EditPage';\n\nexport default class Hello extends Component {\n  render(){\n    return (\n      <Router>\n        <Route exact path=\"/\" component={Index} />\n        <Route exact path=\"/menu\" component={Menu} />\n        <Route exact path=\"/detail\" component={Detail} />\n        <Route exact path=\"/recording\" component={Recording} />\n        <Route exact path=\"/editPage\" component={EditPage} />\n      </Router>\n    )\n  }\n}\n\nReactDOM.render(\n  // <React.StrictMode>\n    <Hello />,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}